{% extends 'base.html' %}
{% load static %}

{% block style %}
<link rel="stylesheet" type="text/css" href="{% static 'css/expense.css' %}">
{% endblock %}

{% block start %}
{% block headerh1 %}
  Expense Management
{% endblock headerh1 %}

<main>
  <div class="budget-form">
    <h2>Add Budget</h2>
    <form method="POST">
      {% csrf_token %}
      <label for="monthly-income">Budget Name:</label>
      <input type="text" id="budget-name" name="budget-name" placeholder="Enter the source of your income(eg. job, parents etc.)">

      <label for="total-expenses">Monthly Income:</label>
      <input type="number" id="monthly-income" name="monthly-income" placeholder="Enter your enter your total income">

      <button type="submit">Save Budget</button>
    </form>
  </div>

  <div class="category-form">
    <h2>Set Categories</h2>
    <form method="POST">
      {% csrf_token %}
      <label for="category-name">Category Name:</label>
      <input type="text" id="category-name" name="category_name" placeholder="Enter category name">
  
      <button type="submit">Add Category</button>
    </form>
     
  </div>
  

  <div class="budget-allocation-form">
    <h2>Set Budget Allocation</h2>
    <form method="POST" action="{% url 'save_budget_allocation' %}">
        {% csrf_token %}
        <input type="hidden" id="category-name" name="category_name" value="{{ category_name }}">
        <label for="category">Select Category:</label>
        <select id="category" name="category">
            <option value="" disabled selected>Select a category</option>
            {% for category in categories %}
            <option value="{{ category }}">{{ category }}</option>
            {% endfor %}
        </select>

        <label for="budget-amount">Budget Amount:</label>
        <input type="number" id="budget-amount" name="budget_amount" placeholder="Enter budget amount">

        <button type="submit">Allocate Budget</button>
    </form>
  </div>

</main>

<script src="{% static 'js/expense.js' %}"></script>
{% endblock %}
